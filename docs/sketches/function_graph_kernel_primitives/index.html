<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>FGK Sketch Primitives - VirtualDataSet</title>
    <meta name="generator" content="Hugo 0.31" />

    
    <meta name="description" content="VirtualDataSet Docs">
    
    <link rel="canonical" href="http://docs.virtdata.io/sketches/function_graph_kernel_primitives/">
    

    <meta property="og:url" content="http://docs.virtdata.io/sketches/function_graph_kernel_primitives/">
    <meta property="og:title" content="VirtualDataSet">
    <meta property="og:image" content="http://docs.virtdata.io/images/virtdata_128.png">
    <meta name="apple-mobile-web-app-title" content="VirtualDataSet">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="http://docs.virtdata.io/images/engineblock_32.png">
    <link rel="icon" type="image/x-icon" href="http://docs.virtdata.io/images/engineblock_32.png">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('http://docs.virtdata.io/fonts/icon.eot');
        src: url('http://docs.virtdata.io/fonts/icon.eot')
               format('embedded-opentype'),
             url('http://docs.virtdata.io/fonts/icon.woff')
               format('woff'),
             url('http://docs.virtdata.io/fonts/icon.ttf')
               format('truetype'),
             url('http://docs.virtdata.io/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="http://docs.virtdata.io/stylesheets/application.css">
    <link rel="stylesheet" href="http://docs.virtdata.io/stylesheets/temporary.css">
    <link rel="stylesheet" href="http://docs.virtdata.io/stylesheets/palettes.css">
    <link rel="stylesheet" href="http://docs.virtdata.io/stylesheets/images.css">

    <link rel="stylesheet" href="http://docs.virtdata.io/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,700|Roboto&#43;Mono">
    <style>
      body, input {
        font-family: 'Roboto', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Roboto Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="http://docs.virtdata.io/javascripts/modernizr.js"></script>

    

  
    
    

    
    
    <script src="http://docs.virtdata.io//modules/viz/viz.js"></script>
    

    
    

    
    

    
    

    
    

    
    
    
    
    

    
    


      
    
    <link href="http://docs.virtdata.io//modules/annotatorjs/annotator.css" rel="stylesheet" />
    <script src="http://docs.virtdata.io//modules/annotatorjs/jquery-3.2.1.js"></script>
    <script src="http://docs.virtdata.io//modules/annotatorjs/annotator.js"></script>
    <script>
        var app = new annotator.App();
        app.include(annotator.ui.main);
        app
            .start()
            .then(function() {
                app.annotations.load();
            });
    </script>


  </head>
  <body class="palette-primary-grey palette-accent-teal">




<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        FGK Sketch Primitives
      </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/virtualdataset/metagen-java" title="@virtualdataset/metagen-java on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="http://docs.virtdata.io/" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="http://docs.virtdata.io/images/virtdata_128.png">
        </div>
      
      <div class="name">
        <strong>VirtualDataSet </strong>
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      

      <div class="toc">
        
        <ul>
          




<li>
  
    <span class="section">Introduction</span>
    <ul>
      
        
        



<a  title="Why VirtData?" href="http://docs.virtdata.io/why_virtdata/why_virtdata/">
	
	Why VirtData?
</a>



      
    </ul>
  
</li>



<li>
  
    <span class="section">Concepts</span>
    <ul>
      
        
        



<a  title="Mapping Functions" href="http://docs.virtdata.io/concepts/mapping_functions/">
	
	Mapping Functions
</a>



      
        
        



<a  title="Function Graphs" href="http://docs.virtdata.io/concepts/function_graphs/">
	
	Function Graphs
</a>



      
    </ul>
  
</li>



<li>
  
    <span class="section">Modeling Datasets</span>
    <ul>
      
        
        



<a  title="Cardinality" href="http://docs.virtdata.io/modeling_datasets/modeling_cardinality/">
	
	Cardinality
</a>



      
        
        



<a  title="Set Relationships" href="http://docs.virtdata.io/modeling_datasets/set_relationships/">
	
	Set Relationships
</a>



      
    </ul>
  
</li>



<li>
  
    



<a  title="Glossary" href="http://docs.virtdata.io/glossary">
	
	Glossary
</a>



  
</li>


        </ul>
        

        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>FGK Sketch Primitives </h1>

			

<p>Some basic examples of function graph structures and how they relate are
in this section.</p>

<h2 id="function-graph-notation">Function Graph Notation.</h2>

<p>The illustration below shows the visual notation that will be used to explain
function graphs. These conventions are based on graphviz primitives, thus
graphviz is implied as a standard tooling for visualizing function graphs.</p>

<p><strong>Fields</strong> are uniquely named readable or writable variables within a function graph. They
are represented in general with box shapes:</p>



<div align="left" class="viz-text"><pre>
digraph function_graph {
 size=&#34;2,2&#34;
 temperature[shape=&#34;box&#34;];
 curator_name[shape=&#34;box&#34;];
}
</pre></div>
<script type="text/javascript" src="http://docs.virtdata.io/modules/viz/inithook-viz.js"></script>


<p><strong>Coordinates</strong> are fields which are used as primary inputs to a function graph.
Coordinates are sometimes marked with an inverse trapezoidal shape to indicate
that they are bound to the top of a function graph. Think of them as ports, or
anchoring points at the top of the function graph. Coordinates may be notated
simply a fields, like above, as well. Any field which has no inbound connection
is still a coordinate, although the node shape may be used to make it more
visually obvious.</p>



<div align="left" class="viz-text"><pre>
digraph function_graph {
 size=&#34;2&#34;
 x[shape=&#34;invtrapezium&#34;];
 y[shape=&#34;invtrapezium&#34;];
 time[shape=&#34;invtrapezium&#34;];
}
</pre></div>
<script type="text/javascript" src="http://docs.virtdata.io/modules/viz/inithook-viz.js"></script>


<p><strong>Outputs</strong> are fields which are meant to be read as a side-effect of setting other fields.
Outputs are notated with a trapezoidal shape, but may also be notated as a simple field. Any
field which has no downstream connections is still considered an output.</p>



<div align="left" class="viz-text"><pre>
digraph function_graph {
 size=&#34;2&#34;
 altitude[shape=&#34;trapezium&#34;];
 airspeed[shape=&#34;trapezium&#34;];
}
</pre></div>
<script type="text/javascript" src="http://docs.virtdata.io/modules/viz/inithook-viz.js"></script>


<p><strong>Functions</strong> are exactly as you would expect:</p>



<div align="left" class="viz-text"><pre>
digraph function_graph {
 size=&#34;1.25&#34;
 f1[label=&#34;f()&#34;,shape=&#34;ellipse&#34;]
 g1[label=&#34;g()&#34;,shape=&#34;ellipse&#34;]
}
</pre></div>
<script type="text/javascript" src="http://docs.virtdata.io/modules/viz/inithook-viz.js"></script>


<p>Data Flow <strong>Arrows</strong> can connect the above elements in various ways.</p>

<p><strong>Arrows can connect one or more fields to one or more functions:</strong></p>



<div align="left" class="viz-text"><pre>
digraph function_graph {
 size=&#34;3&#34;
 w,x,y,z[shape=&#34;box&#34;];
 f1[label=&#34;f()&#34;,shape=&#34;ellipse&#34;]
 g1[label=&#34;g()&#34;,shape=&#34;ellipse&#34;]
 h1[label=&#34;h()&#34;,shape=&#34;ellipse&#34;]
 i1[label=&#34;i()&#34;,shape=&#34;ellipse&#34;]
 subgraph cluster1 {
  label=&#34;(1) unary function&#34;;
   w -&gt; f1;
 }
 subgraph cluster2 {
  label=&#34;(2) bifunction&#34;;
  x,y -&gt; g1;
 }
 subgraph cluster3 {
  label=&#34;(3) shared input&#34;
  z -&gt; h1,i1;
 }
}
</pre></div>
<script type="text/javascript" src="http://docs.virtdata.io/modules/viz/inithook-viz.js"></script>


<p>(1) In this example, the field <em>w</em> is an input to the function <em>f()</em>. The number of
inputs determines the <a href="https://en.wikipedia.org/wiki/Arity">arity</a> of the
function, thus directly represents the function&rsquo;s call signature.</p>

<p>(2) This illustrates the function graph representation of a bifunction
<em>g()</em>, with two arguments. Symbolically, these functions would be named <code>f(w)</code>
and <code>g(y,x)</code>. Notice that the order is retained between the left-to-right
ordering in the graph and the position in the argument list.</p>

<p>(3) Simply shows multiple functions with a common input.</p>

<p><strong>Arrows can connect one or more functions together to represent composed functions:</strong></p>



<div align="left" class="viz-text"><pre>
digraph function_graph {
 size=&#34;3&#34;
 w1[label=&#34;w()&#34;,shape=&#34;ellipse&#34;]
 x1[label=&#34;x()&#34;,shape=&#34;ellipse&#34;]
 y1[label=&#34;y()&#34;,shape=&#34;ellipse&#34;]
 z1[label=&#34;z()&#34;,shape=&#34;ellipse&#34;]
 f1[label=&#34;f()&#34;,shape=&#34;ellipse&#34;]
 g1[label=&#34;g()&#34;,shape=&#34;ellipse&#34;]
 h1[label=&#34;h()&#34;,shape=&#34;ellipse&#34;]
 i1[label=&#34;i()&#34;,shape=&#34;ellipse&#34;]
 subgraph cluster1 {
  label=&#34;(1) unary function\ncomposition&#34;;
   w1 -&gt; f1;
 }
 subgraph cluster2 {
  label=&#34;(2) bifunction\ncomposition&#34;;
  x1,y1 -&gt; g1;
 }
 subgraph cluster3 {
  label=&#34;(3) shared function\ncomposition&#34;
  z1 -&gt; h1,i1;
 }
}
</pre></div>
<script type="text/javascript" src="http://docs.virtdata.io/modules/viz/inithook-viz.js"></script>


<p>(1) When functions are connected in this way, they form lambdas. The first case
is simple unary function composition. It would yield a composed function
<code>f(w(...))</code>, depending on the argument signature for <em>w()</em>. This means that the
order of evaluation follows the data flow as one would expect, with <em>w(&hellip;)</em>
being evaluated first, <strong>and-then</strong> <em>f()</em> on the result of that.</p>

<p>(2) A function with multiple inbound arrows represents a bifunction, whether the
inbound arrows are from fields or functions. However, the way that the function
is bound at runtime will vary according to the input types. In this case, the
composed function would be symbolically <code>g(y(...),x(...))</code> depending on the
inputs to y()* and <em>x()</em>.</p>

<p>(3) With a function feeding into multiple downstream functions, each path
represents a distinct and separate lambda. In this case <code>h(z(...))</code> and
<code>i(z(...))</code>.</p>

<p><strong>Arrows can connect functions to fields:</strong></p>



<div align="left" class="viz-text"><pre>
digraph function_graph {
 size=&#34;3&#34;
 w1[label=&#34;w()&#34;,shape=&#34;ellipse&#34;]
 z1[label=&#34;z()&#34;,shape=&#34;ellipse&#34;]
 x1[label=&#34;&#34;,shape=&#34;ellipse&#34;]
 y1[label=&#34;&#34;,shape=&#34;ellipse&#34;]
 g[label=&#34;&#34;,shape=&#34;box&#34;]
 f,h,i[shape=&#34;box&#34;]
 subgraph cluster1 {
  label=&#34;(1) single output&#34;;
   w1 -&gt; f;
 }
 subgraph cluster3 {
  label=&#34;(2) multiple output&#34;
  z1 -&gt; h,i;
 }
 subgraph cluster2 {
  label=&#34;NOT ALLOWED&#34;;
  x1,y1 -&gt; g;
 }
}
</pre></div>
<script type="text/javascript" src="http://docs.virtdata.io/modules/viz/inithook-viz.js"></script>


<p>(1) When a function is connected to a field in this way, then the field represents
a stateful variable for that function&rsquo;s output values. More precisely stated, accessing
the value of that field requires computing all inputs that lead to it, including all inbound
arrows.</p>

<p>(2) It is acceptable to have multiple fields which depend directly on the same function.</p>

<p><strong>Fields may never have multiple inbound arrows.</strong> This would cause ambiguity for
how to compute the value of the field. Arrows <strong>never</strong> connect a field to a
field.</p>

<p>In a nutshell, arrows are allowed anywhere <em>except</em> in these cases:</p>

<ol>
<li>Arrows may not connect fields to fields.</li>
<li>Arrows may not connect multiple inputs to a field.</li>
<li>Loops are not allowed. A function graph is a directed graph.</li>
</ol>


			<aside class="copyright" role="note">
				
				&copy; 2018 APL 2.0 &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="http://docs.virtdata.io/sketches/function_graph_kernel_concepts/" title="FGK Sketch Concepts">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              FGK Sketch Concepts
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="http://docs.virtdata.io/src/extending_virtdata/adding_libraries/" title="">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = '';
      var repo_id  = '';
    
    </script>

    <script src="http://docs.virtdata.io/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "¶";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

